============================= test session starts =============================
platform win32 -- Python 3.14.0, pytest-7.4.4, pluggy-1.6.0
rootdir: C:\Users\LOQ\PycharmProjects\kalkulator-ai
configfile: pyproject.toml
plugins: hypothesis-6.148.7, cov-4.1.0, xdist-3.5.0
collected 7 items

tests\test_transcendental.py .....F.                                     [100%]

================================== FAILURES ===================================
_________________ TestTranscendentalFunctions.test_power_law __________________

self = <tests.test_transcendental.TestTranscendentalFunctions testMethod=test_power_law>

    def test_power_law(self):
        """Test finding f(x) = x^2.5 (power law)."""
        # f(1)=1, f(4)=32, f(9)=243
        data = [([1], 1), ([4], 32), ([9], 243)]
        success, func_str, _, error = find_function_from_data(data, ["x"])
        self.assertTrue(success, f"Failed to find x^2.5: {error}")
>       self.assertIn("x^2.5", func_str)
E       AssertionError: 'x^2.5' not found in 'x^5/2'

tests\test_transcendental.py:74: AssertionError

---------- coverage: platform win32, python 3.14.0-final-0 -----------
Name                                         Stmts   Miss  Cover   Missing
--------------------------------------------------------------------------
kalkulator_pkg\__init__.py                       3      0   100%
kalkulator_pkg\__main__.py                       3      3     0%   13-17
kalkulator_pkg\abpn.py                           0      0   100%
kalkulator_pkg\api.py                           64     64     0%   3-273
kalkulator_pkg\cache_manager.py                194    194     0%   10-448
kalkulator_pkg\calculus.py                      83     83     0%   3-142
kalkulator_pkg\cli.py                         3244   3244     0%   1-6544
kalkulator_pkg\config.py                        45      2    96%   32-34
kalkulator_pkg\function_finder_advanced.py     453    268    41%   24-25, 71-121, 143-201, 224-234, 250-257, 274-276, 293-295, 318-360, 382-426, 444-493, 514, 544-567, 571-580, 594-596, 665-670, 712-720, 725-738, 741-764, 769-789, 811-819, 850, 875, 877, 879, 888, 893-895, 916, 935-942, 959, 967, 970-971
kalkulator_pkg\function_manager.py            2199   1968    11%   65-219, 234-269, 279, 288-291, 300-310, 325-359, 375-407, 426-481, 493-557, 579-602, 617-628, 645-688, 705-766, 794-1083, 1099-1243, 1250-1270, 1315-1358, 1369-1371, 1381, 1384, 1390-1391, 1423-1464, 1496-1535, 1560-1567, 1599, 1608, 1621-1624, 1635-1638, 1651-1676, 1689, 1695, 1701, 1721, 1728, 1734, 1740, 1746, 1753, 1759, 1763-1777, 1791-1792, 1810-1856, 1867, 1876, 1889-1937, 1942-2399, 2424-2432, 2445-2463, 2476, 2508, 2517-4595, 4627-4727, 4741-4755, 4764-4767, 4779-4798, 4828-4879, 4890-4923, 4928-4953
kalkulator_pkg\logging_config.py                33     33     0%   3-89
kalkulator_pkg\parser.py                       614    614     0%   11-1343
kalkulator_pkg\plotting.py                     151    151     0%   3-295
kalkulator_pkg\regression_solver.py            271     87    68%   14-28, 34, 41-43, 52-54, 64-71, 80, 82-83, 102, 122, 126, 133, 166, 174, 180, 184, 186, 188, 192-195, 197, 220, 222, 257, 263, 279, 288-294, 299, 303-328, 331, 349, 357, 361-363, 366, 374, 379, 390, 394, 399, 431-432
kalkulator_pkg\solver.py                      1103   1103     0%   22-2075
kalkulator_pkg\types.py                         82     43    48%   21-30, 65-78, 110-115, 131-133, 136, 143-145, 148, 157-160, 163
kalkulator_pkg\worker.py                       798    798     0%   1-1492
--------------------------------------------------------------------------
TOTAL                                         9340   8655     7%
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml

FAIL Required test coverage of 50% not reached. Total coverage: 7.33%
=========================== short test summary info ===========================
FAILED tests/test_transcendental.py::TestTranscendentalFunctions::test_power_law
========================= 1 failed, 6 passed in 4.20s =========================
